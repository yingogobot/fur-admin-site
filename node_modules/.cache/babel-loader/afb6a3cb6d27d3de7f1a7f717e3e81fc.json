{"remainingRequest":"/Users/yinxu/Desktop/Dev/Fur-Admin/vue-element-admin/node_modules/babel-loader/lib/index.js!/Users/yinxu/Desktop/Dev/Fur-Admin/vue-element-admin/node_modules/eslint-loader/index.js??ref--13-0!/Users/yinxu/Desktop/Dev/Fur-Admin/vue-element-admin/src/utils/error-log.js","dependencies":[{"path":"/Users/yinxu/Desktop/Dev/Fur-Admin/vue-element-admin/src/utils/error-log.js","mtime":1573891651605},{"path":"/Users/yinxu/Desktop/Dev/Fur-Admin/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yinxu/Desktop/Dev/Fur-Admin/vue-element-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yinxu/Desktop/Dev/Fur-Admin/vue-element-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/yinxu/Desktop/Dev/Fur-Admin/vue-element-admin/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nrequire(\"core-js/modules/es7.array.includes\");\n\nrequire(\"core-js/modules/es6.string.includes\");\n\nvar _vue = _interopRequireDefault(require(\"vue\"));\n\nvar _store = _interopRequireDefault(require(\"@/store\"));\n\nvar _validate = require(\"@/utils/validate\");\n\nvar _settings = _interopRequireDefault(require(\"@/settings\"));\n\n// you can set in settings.js\n// errorLog:'production' | ['production', 'development']\nvar needErrorLog = _settings.default.errorLog;\n\nfunction checkNeed() {\n  var env = process.env.NODE_ENV;\n\n  if ((0, _validate.isString)(needErrorLog)) {\n    return env === needErrorLog;\n  }\n\n  if ((0, _validate.isArray)(needErrorLog)) {\n    return needErrorLog.includes(env);\n  }\n\n  return false;\n}\n\nif (checkNeed()) {\n  _vue.default.config.errorHandler = function (err, vm, info, a) {\n    // Don't ask me why I use Vue.nextTick, it just a hack.\n    // detail see https://forum.vuejs.org/t/dispatch-in-vue-config-errorhandler-has-some-problem/23500\n    _vue.default.nextTick(function () {\n      _store.default.dispatch('errorLog/addErrorLog', {\n        err: err,\n        vm: vm,\n        info: info,\n        url: window.location.href\n      });\n\n      console.error(err, info);\n    });\n  };\n}",{"version":3,"sources":["/Users/yinxu/Desktop/Dev/Fur-Admin/vue-element-admin/src/utils/error-log.js"],"names":["needErrorLog","settings","errorLog","checkNeed","env","process","NODE_ENV","includes","Vue","config","errorHandler","err","vm","info","a","nextTick","store","dispatch","url","window","location","href","console","error"],"mappings":";;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA;AACA;IACkBA,Y,GAAiBC,iB,CAA3BC,Q;;AAER,SAASC,SAAT,GAAqB;AACnB,MAAMC,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAxB;;AACA,MAAI,wBAASN,YAAT,CAAJ,EAA4B;AAC1B,WAAOI,GAAG,KAAKJ,YAAf;AACD;;AACD,MAAI,uBAAQA,YAAR,CAAJ,EAA2B;AACzB,WAAOA,YAAY,CAACO,QAAb,CAAsBH,GAAtB,CAAP;AACD;;AACD,SAAO,KAAP;AACD;;AAED,IAAID,SAAS,EAAb,EAAiB;AACfK,eAAIC,MAAJ,CAAWC,YAAX,GAA0B,UAASC,GAAT,EAAcC,EAAd,EAAkBC,IAAlB,EAAwBC,CAAxB,EAA2B;AACrD;AACA;AACEN,iBAAIO,QAAJ,CAAa,YAAM;AACjBC,qBAAMC,QAAN,CAAe,sBAAf,EAAuC;AACrCN,QAAAA,GAAG,EAAHA,GADqC;AAErCC,QAAAA,EAAE,EAAFA,EAFqC;AAGrCC,QAAAA,IAAI,EAAJA,IAHqC;AAIrCK,QAAAA,GAAG,EAAEC,MAAM,CAACC,QAAP,CAAgBC;AAJgB,OAAvC;;AAMAC,MAAAA,OAAO,CAACC,KAAR,CAAcZ,GAAd,EAAmBE,IAAnB;AACD,KARD;AASD,GAZD;AAaD","sourcesContent":["import Vue from 'vue'\nimport store from '@/store'\nimport { isString, isArray } from '@/utils/validate'\nimport settings from '@/settings'\n\n// you can set in settings.js\n// errorLog:'production' | ['production', 'development']\nconst { errorLog: needErrorLog } = settings\n\nfunction checkNeed() {\n  const env = process.env.NODE_ENV\n  if (isString(needErrorLog)) {\n    return env === needErrorLog\n  }\n  if (isArray(needErrorLog)) {\n    return needErrorLog.includes(env)\n  }\n  return false\n}\n\nif (checkNeed()) {\n  Vue.config.errorHandler = function(err, vm, info, a) {\n  // Don't ask me why I use Vue.nextTick, it just a hack.\n  // detail see https://forum.vuejs.org/t/dispatch-in-vue-config-errorhandler-has-some-problem/23500\n    Vue.nextTick(() => {\n      store.dispatch('errorLog/addErrorLog', {\n        err,\n        vm,\n        info,\n        url: window.location.href\n      })\n      console.error(err, info)\n    })\n  }\n}\n"]}]}