{"remainingRequest":"/Users/yinxu/Desktop/Dev/Fur-Admin/vue-element-admin/node_modules/babel-loader/lib/index.js!/Users/yinxu/Desktop/Dev/Fur-Admin/vue-element-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yinxu/Desktop/Dev/Fur-Admin/vue-element-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yinxu/Desktop/Dev/Fur-Admin/vue-element-admin/src/components/DragSelect/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yinxu/Desktop/Dev/Fur-Admin/vue-element-admin/src/components/DragSelect/index.vue","mtime":1573891651585},{"path":"/Users/yinxu/Desktop/Dev/Fur-Admin/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yinxu/Desktop/Dev/Fur-Admin/vue-element-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yinxu/Desktop/Dev/Fur-Admin/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yinxu/Desktop/Dev/Fur-Admin/vue-element-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/yinxu/Desktop/Dev/Fur-Admin/vue-element-admin/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"/Users/yinxu/Desktop/Dev/Fur-Admin/vue-element-admin/node_modules/@babel/runtime-corejs2/helpers/toConsumableArray\"));\n\nvar _sortablejs = _interopRequireDefault(require(\"sortablejs\"));\n\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'DragSelect',\n  props: {\n    value: {\n      type: Array,\n      required: true\n    }\n  },\n  computed: {\n    selectVal: {\n      get: function get() {\n        return (0, _toConsumableArray2.default)(this.value);\n      },\n      set: function set(val) {\n        this.$emit('input', (0, _toConsumableArray2.default)(val));\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.setSort();\n  },\n  methods: {\n    setSort: function setSort() {\n      var _this = this;\n\n      var el = this.$refs.dragSelect.$el.querySelectorAll('.el-select__tags > span')[0];\n      this.sortable = _sortablejs.default.create(el, {\n        ghostClass: 'sortable-ghost',\n        // Class name for the drop placeholder,\n        setData: function setData(dataTransfer) {\n          dataTransfer.setData('Text', ''); // to avoid Firefox bug\n          // Detail see : https://github.com/RubaXa/Sortable/issues/1012\n        },\n        onEnd: function onEnd(evt) {\n          var targetRow = _this.value.splice(evt.oldIndex, 1)[0];\n\n          _this.value.splice(evt.newIndex, 0, targetRow);\n        }\n      });\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;AAOA;;;;;;;;eAEA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA;AAFA;AADA,GAFA;AAQA,EAAA,QAAA,EAAA;AACA,IAAA,SAAA,EAAA;AACA,MAAA,GADA,iBACA;AACA,gDAAA,KAAA,KAAA;AACA,OAHA;AAIA,MAAA,GAJA,eAIA,GAJA,EAIA;AACA,aAAA,KAAA,CAAA,OAAA,mCAAA,GAAA;AACA;AANA;AADA,GARA;AAkBA,EAAA,OAlBA,qBAkBA;AACA,SAAA,OAAA;AACA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AACA,UAAA,EAAA,GAAA,KAAA,KAAA,CAAA,UAAA,CAAA,GAAA,CAAA,gBAAA,CAAA,yBAAA,EAAA,CAAA,CAAA;AACA,WAAA,QAAA,GAAA,oBAAA,MAAA,CAAA,EAAA,EAAA;AACA,QAAA,UAAA,EAAA,gBADA;AACA;AACA,QAAA,OAAA,EAAA,iBAAA,YAAA,EAAA;AACA,UAAA,YAAA,CAAA,OAAA,CAAA,MAAA,EAAA,EAAA,EADA,CAEA;AACA;AACA,SANA;AAOA,QAAA,KAAA,EAAA,eAAA,GAAA,EAAA;AACA,cAAA,SAAA,GAAA,KAAA,CAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA,QAAA,EAAA,CAAA,EAAA,CAAA,CAAA;;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA,QAAA,EAAA,CAAA,EAAA,SAAA;AACA;AAVA,OAAA,CAAA;AAYA;AAfA;AArBA,C","sourcesContent":["<template>\n  <el-select ref=\"dragSelect\" v-model=\"selectVal\" v-bind=\"$attrs\" class=\"drag-select\" multiple v-on=\"$listeners\">\n    <slot />\n  </el-select>\n</template>\n\n<script>\nimport Sortable from 'sortablejs'\n\nexport default {\n  name: 'DragSelect',\n  props: {\n    value: {\n      type: Array,\n      required: true\n    }\n  },\n  computed: {\n    selectVal: {\n      get() {\n        return [...this.value]\n      },\n      set(val) {\n        this.$emit('input', [...val])\n      }\n    }\n  },\n  mounted() {\n    this.setSort()\n  },\n  methods: {\n    setSort() {\n      const el = this.$refs.dragSelect.$el.querySelectorAll('.el-select__tags > span')[0]\n      this.sortable = Sortable.create(el, {\n        ghostClass: 'sortable-ghost', // Class name for the drop placeholder,\n        setData: function(dataTransfer) {\n          dataTransfer.setData('Text', '')\n          // to avoid Firefox bug\n          // Detail see : https://github.com/RubaXa/Sortable/issues/1012\n        },\n        onEnd: evt => {\n          const targetRow = this.value.splice(evt.oldIndex, 1)[0]\n          this.value.splice(evt.newIndex, 0, targetRow)\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.drag-select >>> .sortable-ghost {\n  opacity: .8;\n  color: #fff!important;\n  background: #42b983!important;\n}\n\n.drag-select >>> .el-tag {\n  cursor: pointer;\n}\n</style>\n"],"sourceRoot":"src/components/DragSelect"}]}