{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{\"1/jq\":function(e,t,i){\"use strict\";i.r(t);var s=function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"app-container\"},[t(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:this.fullscreenLoading,expression:\"fullscreenLoading\",modifiers:{fullscreen:!0,lock:!0}}]},[t(\"h2\",{staticClass:\"title\"},[this._v(\"销售报告\")]),this._v(\" \"),t(\"bar-chart\")],1)])};s._withStripped=!0;var n=function(){var e=this.$createElement;return(this._self._c||e)(\"div\",{class:this.className,style:{height:this.height,width:this.width}})};n._withStripped=!0;var a=i(\"MT78\"),r=i.n(a),o=i(\"VAMx\");i(\"gX0l\");var l={mixins:[o.a],props:{className:{type:String,default:\"chart\"},width:{type:String,default:\"100%\"},height:{type:String,default:\"300px\"},chartData:{type:Object,required:!0}},data:function(){return{chart:null,listLoading:!1}},mounted:function(){var e=this;this.$nextTick(function(){e.initChart()})},beforeRouteEnter:function(e,t,i){i(function(e){e.getSalesReport(),i()})},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{getSalesReport:function(){var e=this;this.listLoading=!0,SalesAPI.getAllSales(this.listQuery).then(function(t){e.sales=t.data,e.listLoading=!1,e.calculateRowSpan()}).catch(function(t){e.$message({message:\"getAllSales 读取库存失败，请联系徐神检查\",type:\"error\"}),e.listLoading=!1})},initChart:function(){this.chart=r.a.init(this.$el,\"macarons\"),this.chart.setOption({tooltip:{trigger:\"axis\",axisPointer:{type:\"shadow\"}},grid:{top:10,left:\"2%\",right:\"2%\",bottom:\"3%\",containLabel:!0},xAxis:[{type:\"category\",data:[\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\",\"Sun\"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:\"value\",axisTick:{show:!1}}],series:[{name:\"pageA\",type:\"bar\",stack:\"vistors\",barWidth:\"60%\",data:[79,52,200,334,390,330,220],animationDuration:6e3},{name:\"pageB\",type:\"bar\",stack:\"vistors\",barWidth:\"60%\",data:[80,52,200,334,390,330,220],animationDuration:6e3},{name:\"pageC\",type:\"bar\",stack:\"vistors\",barWidth:\"60%\",data:[30,52,200,334,390,330,220],animationDuration:6e3}]})}}},d=i(\"KHd+\"),c=Object(d.a)(l,n,[],!1,null,null,null);c.options.__file=\"src/views/sales/components/BarChart.vue\";var h=c.exports,u=(i(\"DyJX\"),{name:\"SalesReport\",components:{BarChart:h},data:function(){return{salesData:void 0,fullscreenLoading:!0}},beforeRouteEnter:function(e,t,i){i(function(e){e.getSalesReport(),i()})},methods:{getSalesReport:function(){this.fullscreenLoading=!0}}}),f=Object(d.a)(u,s,[],!1,null,null,null);f.options.__file=\"src/views/sales/sales-report.vue\";t.default=f.exports},VAMx:function(e,t,i){\"use strict\";var s=i(\"7Qib\");t.a={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var e=this;this.$_resizeHandler=Object(s.b)(function(){e.chart&&e.chart.resize()},100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener(\"resize\",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener(\"resize\",this.$_resizeHandler)},$_sidebarResizeHandler:function(e){\"width\"===e.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName(\"sidebar-container\")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener(\"transitionend\",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener(\"transitionend\",this.$_sidebarResizeHandler)}}}}}]);","extractedComments":[]}