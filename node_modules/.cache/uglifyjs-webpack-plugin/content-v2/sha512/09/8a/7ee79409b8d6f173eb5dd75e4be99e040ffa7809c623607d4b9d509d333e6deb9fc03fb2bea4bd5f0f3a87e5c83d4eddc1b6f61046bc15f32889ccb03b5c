{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{\"25re\":function(t,e,n){\"use strict\";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"pagination-container\",class:{hidden:t.hidden}},[n(\"el-pagination\",t._b({attrs:{background:t.background,\"current-page\":t.currentPage,\"page-size\":t.pageSize,layout:t.layout,\"page-sizes\":t.pageSizes,total:t.total},on:{\"update:currentPage\":function(e){t.currentPage=e},\"update:current-page\":function(e){t.currentPage=e},\"update:pageSize\":function(e){t.pageSize=e},\"update:page-size\":function(e){t.pageSize=e},\"size-change\":t.handleSizeChange,\"current-change\":t.handleCurrentChange}},\"el-pagination\",t.$attrs,!1))],1)},o=[];i._withStripped=!0,n.d(e,\"render\",function(){return i}),n.d(e,\"staticRenderFns\",function(){return o})},\"6g3Z\":function(t,e,n){\"use strict\";n(\"xfY5\");Math.easeInOutQuad=function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e};var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function o(t,e,n){var o=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,a=t-o,r=0;e=void 0===e?500:e;!function t(){r+=20;var c,u=Math.easeInOutQuad(r,o,a,e);c=u,document.documentElement.scrollTop=c,document.body.parentNode.scrollTop=c,document.body.scrollTop=c,r<e?i(t):n&&\"function\"==typeof n&&n()}()}var a={name:\"Pagination\",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:\"total, sizes, prev, pager, next, jumper\"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit(\"update:page\",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit(\"update:limit\",t)}}},methods:{handleSizeChange:function(t){this.$emit(\"pagination\",{page:this.currentPage,limit:t}),this.autoScroll&&o(0,800)},handleCurrentChange:function(t){this.$emit(\"pagination\",{page:t,limit:this.pageSize}),this.autoScroll&&o(0,800)}}};e.a=a},CEGf:function(t,e,n){\"use strict\";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"app-container\"},[n(\"div\",[n(\"h2\",{staticClass:\"title\"},[t._v(\"产品类型\")]),t._v(\" \"),n(\"el-button\",{staticClass:\"create-button\",staticStyle:{width:\"200px\",\"margin-left\":\"10px\"},attrs:{type:\"success\",icon:\"el-icon-edit\"},on:{click:t.handleCreate}},[t._v(\"\\n      添加新产品类型\\n    \")])],1),t._v(\" \"),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.listLoading,expression:\"listLoading\"}],key:t.tableKey,staticStyle:{width:\"100%\"},attrs:{data:t.productTypes,border:\"\",fit:\"\",\"highlight-current-row\":\"\"}},[n(\"el-table-column\",{attrs:{label:\"类型ID\",prop:\"id\",width:\"100px\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){var i=e.row;return[n(\"span\",[t._v(t._s(i.id))])]}}])}),t._v(\" \"),n(\"el-table-column\",{attrs:{label:\"类型名称\",prop:\"title\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){var i=e.row;return[n(\"el-tag\",{staticClass:\"tag\",attrs:{color:i.tag_color}},[t._v(t._s(i.title))])]}}])}),t._v(\" \"),n(\"el-table-column\",{attrs:{label:\"操作\",width:\"300px\",align:\"center\"}},[n(\"el-button\",{attrs:{type:\"primary\",plain:\"\"},on:{click:function(e){return t.editSalesChannel()}}},[t._v(\"编辑\")])],1)],1),t._v(\" \"),n(\"pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.total>0,expression:\"total>0\"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{\"update:page\":function(e){return t.$set(t.listQuery,\"page\",e)},\"update:limit\":function(e){return t.$set(t.listQuery,\"limit\",e)},pagination:t.getAllProductTypes}}),t._v(\" \"),n(\"el-dialog\",{attrs:{title:\"添加新产品类型\",visible:t.dialogFormVisible,width:\"80%\"},on:{\"update:visible\":function(e){t.dialogFormVisible=e}}},[n(\"el-form\",{ref:\"dataForm\",staticStyle:{\"margin-left\":\"20px\"},attrs:{model:t.temp,\"label-position\":\"left\",\"label-width\":\"10px\"}},[n(\"div\",[n(\"h3\",{staticStyle:{display:\"inline-block\",width:\"100px\",\"vertical-align\":\"top\",\"margin-top\":\"0\"}},[t._v(\" 产品类型信息 \")]),t._v(\" \"),n(\"div\",{staticStyle:{display:\"inline-block\"}},[n(\"div\",{staticStyle:{\"margin-bottom\":\"5px\"}},[n(\"div\",{staticClass:\"input-title\"},[t._v(\"产品类型名称\")])]),t._v(\" \"),n(\"el-form-item\",{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{label:\"\",prop:\"salesChannel\"}},[n(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{placeholder:\"产品类型名称\"},model:{value:t.temp.title,callback:function(e){t.$set(t.temp,\"title\",e)},expression:\"temp.title\"}})],1)],1),t._v(\" \"),n(\"div\",{staticStyle:{display:\"inline-block\"}},[n(\"div\",{staticStyle:{\"margin-bottom\":\"5px\"}},[n(\"div\",{staticClass:\"input-title\"},[t._v(\"产品类型背景颜色\")])]),t._v(\" \"),n(\"el-form-item\",{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{label:\"\",prop:\"salesChannel\"}},[n(\"verte\",{attrs:{value:\"#f0f\",model:\"hex\"},model:{value:t.temp.tag_color,callback:function(e){t.$set(t.temp,\"tag_color\",e)},expression:\"temp.tag_color\"}})],1)],1)])]),t._v(\" \"),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(\"\\n        取消\\n      \")]),t._v(\" \"),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(e){return t.addNewSalesChannel()}}},[t._v(\"\\n        提交\\n      \")])],1)],1)],1)},o=[];i._withStripped=!0,n.d(e,\"render\",function(){return i}),n.d(e,\"staticRenderFns\",function(){return o})},Mz3J:function(t,e,n){\"use strict\";var i=n(\"25re\"),o=n(\"6g3Z\"),a=(n(\"VhpY\"),n(\"KHd+\")),r=Object(a.a)(o.a,i.render,i.staticRenderFns,!1,null,\"72233bcd\",null),c=n(\"ZDXL\");c.install(n(\"oCYn\")),c.compatible&&(t.hot.accept(),c.isRecorded(\"72233bcd\")?c.reload(\"72233bcd\",r.options):c.createRecord(\"72233bcd\",r.options),t.hot.accept(\"25re\",function(t){i=n(\"25re\"),c.rerender(\"72233bcd\",{render:i.render,staticRenderFns:i.staticRenderFns})}.bind(this))),r.options.__file=\"src/components/Pagination/index.vue\",e.a=r.exports},\"R+t/\":function(t,e,n){\"use strict\";var i=n(\"23J+\"),o=n(\"xMja\"),a=(n(\"7Qib\"),n(\"Mz3J\")),r=n(\"L2JU\"),c=(n(\"Nvws\"),{name:\"ComplexTable\",components:{Pagination:a.a},filters:{},data:function(){return{tableKey:0,productTypes:null,total:0,listLoading:!0,dialogFormVisible:!1,rowSpans:null,listQuery:{page:1,limit:10},temp:{title:null,tag_color:null}}},created:function(){this.getAllProductTypes(),this.getCount()},computed:Object(i.a)({},Object(r.b)([\"id\"])),methods:{getAllProductTypes:function(){var t=this;this.listLoading=!0,o.a.getAllProductType(this.listQuery).then(function(e){t.productTypes=e,t.listLoading=!1}).catch(function(e){t.$message({message:\"读取库存失败，请联系徐神检查\",type:\"error\"}),t.listLoading=!1})},getCount:function(){var t=this;o.a.getAllProductTypeCount().then(function(e){t.total=e.total})},handleCreate:function(){this.dialogFormVisible=!0},addNewSalesChannel:function(){var t=this;this.$confirm(\"确定添加?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){t.sendNewProductTypeRequest()}).catch(function(t){})},sendNewProductTypeRequest:function(){var t=this;this.temp.title?(this.listLoading=!0,o.a.addProductType(this.temp).then(function(e){t.listLoading=!1,t.$alert(\"添加成功\",\"成功\",{confirmButtonText:\"确定\",callback:function(e){t.page=1,t.getAllProductTypes(),t.getCount(),t.dialogFormVisible=!1,t.temp={title:null,tag_color:null}}})}).catch(function(e){t.$message({message:\"添加失败，请联系徐神检查\",type:\"error\"}),t.listLoading=!1})):this.$message({message:\"必须填写所有信息\",type:\"error\"})},editSalesChannel:function(){},deleteSalesChannel:function(){}}});e.a=c},RJdx:function(t,e,n){},VhpY:function(t,e,n){\"use strict\";var i=n(\"RJdx\");n.n(i).a},Ywdw:function(t,e,n){\"use strict\";n.r(e);var i=n(\"CEGf\"),o=n(\"R+t/\"),a=(n(\"dspe\"),n(\"KHd+\")),r=Object(a.a)(o.a,i.render,i.staticRenderFns,!1,null,\"6dab0a73\",null),c=n(\"ZDXL\");c.install(n(\"oCYn\")),c.compatible&&(t.hot.accept(),c.isRecorded(\"6dab0a73\")?c.reload(\"6dab0a73\",r.options):c.createRecord(\"6dab0a73\",r.options),t.hot.accept(\"CEGf\",function(t){i=n(\"CEGf\"),c.rerender(\"6dab0a73\",{render:i.render,staticRenderFns:i.staticRenderFns})}.bind(this))),r.options.__file=\"src/views/data/product-type.vue\",e.default=r.exports},dspe:function(t,e,n){\"use strict\";var i=n(\"rDjG\");n.n(i).a},rDjG:function(t,e,n){},xMja:function(t,e,n){\"use strict\";var i=n(\"DyJX\");e.a={addProduct:function(t){return new Promise(function(e,n){i.a.post(\"product/add\",t).then(function(t){return e(t)}).catch(function(t){return n(t)})})},getAllProducts:function(t){return new Promise(function(e,n){i.a.post(\"product/get_all_products\",t).then(function(t){return e(t)}).catch(function(t){return n(t)})})},getAllProductCount:function(t){return new Promise(function(e,n){i.a.post(\"product/get_all_products_count\",t).then(function(t){return e(t)}).catch(function(t){return n(t)})})},getAllProductType:function(){return new Promise(function(t,e){i.a.post(\"product/get_all_product_type\").then(function(e){return t(e)}).catch(function(t){return e(t)})})},getAllProductTypeCount:function(){return new Promise(function(t,e){i.a.post(\"product/get_all_product_type_count\").then(function(e){return t(e)}).catch(function(t){return e(t)})})},getProductSubType:function(t){return new Promise(function(e,n){i.a.post(\"product/get_product_sub_type\",t).then(function(t){return e(t)}).catch(function(t){return n(t)})})},getAllProductSubType:function(t){return new Promise(function(e,n){i.a.post(\"product/get_all_product_sub_type\",t).then(function(t){return e(t)}).catch(function(t){return n(t)})})},getAllProductSubTypeCount:function(){return new Promise(function(t,e){i.a.post(\"product/get_product_sub_type_count\").then(function(e){return t(e)}).catch(function(t){return e(t)})})},getProductBySubType:function(t){return new Promise(function(e,n){i.a.post(\"product/get_product_by_sub_type\",t).then(function(t){return e(t)}).catch(function(t){return n(t)})})},addProductType:function(t){return new Promise(function(e,n){i.a.post(\"product/add_product_type\",t).then(function(t){return e(t)}).catch(function(t){return n(t)})})},addProductSubType:function(t){return new Promise(function(e,n){i.a.post(\"product/add_product_sub_type\",t).then(function(t){return e(t)}).catch(function(t){return n(t)})})}}}}]);","extractedComments":[]}