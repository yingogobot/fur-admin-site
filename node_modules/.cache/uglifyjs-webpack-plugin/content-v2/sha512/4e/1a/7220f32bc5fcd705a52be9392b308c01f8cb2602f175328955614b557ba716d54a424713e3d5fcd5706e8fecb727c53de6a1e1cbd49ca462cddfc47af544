{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{\"0CZl\":function(e,t,n){},\"25re\":function(e,t,n){\"use strict\";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"pagination-container\",class:{hidden:e.hidden}},[n(\"el-pagination\",e._b({attrs:{background:e.background,\"current-page\":e.currentPage,\"page-size\":e.pageSize,layout:e.layout,\"page-sizes\":e.pageSizes,total:e.total},on:{\"update:currentPage\":function(t){e.currentPage=t},\"update:current-page\":function(t){e.currentPage=t},\"update:pageSize\":function(t){e.pageSize=t},\"update:page-size\":function(t){e.pageSize=t},\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}},\"el-pagination\",e.$attrs,!1))],1)},i=[];a._withStripped=!0,n.d(t,\"render\",function(){return a}),n.d(t,\"staticRenderFns\",function(){return i})},\"6g3Z\":function(e,t,n){\"use strict\";n(\"xfY5\");Math.easeInOutQuad=function(e,t,n,a){return(e/=a/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t};var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function i(e,t,n){var i=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,r=e-i,o=0;t=void 0===t?500:t;!function e(){o+=20;var l,s=Math.easeInOutQuad(o,i,r,t);l=s,document.documentElement.scrollTop=l,document.body.parentNode.scrollTop=l,document.body.scrollTop=l,o<t?a(e):n&&\"function\"==typeof n&&n()}()}var r={name:\"Pagination\",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:\"total, sizes, prev, pager, next, jumper\"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit(\"update:page\",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit(\"update:limit\",e)}}},methods:{handleSizeChange:function(e){this.$emit(\"pagination\",{page:this.currentPage,limit:e}),this.autoScroll&&i(0,800)},handleCurrentChange:function(e){this.$emit(\"pagination\",{page:e,limit:this.pageSize}),this.autoScroll&&i(0,800)}}};t.a=r},\"FXY/\":function(e,t,n){\"use strict\";var a=n(\"0CZl\");n.n(a).a},Mz3J:function(e,t,n){\"use strict\";var a=n(\"25re\"),i=n(\"6g3Z\"),r=(n(\"VhpY\"),n(\"KHd+\")),o=Object(r.a)(i.a,a.render,a.staticRenderFns,!1,null,\"72233bcd\",null),l=n(\"ZDXL\");l.install(n(\"oCYn\")),l.compatible&&(e.hot.accept(),l.isRecorded(\"72233bcd\")?l.reload(\"72233bcd\",o.options):l.createRecord(\"72233bcd\",o.options),e.hot.accept(\"25re\",function(e){a=n(\"25re\"),l.rerender(\"72233bcd\",{render:a.render,staticRenderFns:a.staticRenderFns})}.bind(this))),o.options.__file=\"src/components/Pagination/index.vue\",t.a=o.exports},RJdx:function(e,t,n){},S4mp:function(e,t,n){\"use strict\";var a=n(\"DyJX\");t.a={getAllResalers:function(){return new Promise(function(e,t){a.a.post(\"resaler/get_all\").then(function(t){return e(t)}).catch(function(e){return t(e)})})},getResalersCount:function(){return new Promise(function(e,t){a.a.post(\"resaler/get_count\").then(function(t){return e(t)}).catch(function(e){return t(e)})})},addResaler:function(e){return new Promise(function(t,n){a.a.post(\"resaler/add\",e).then(function(e){return t(e)}).catch(function(e){return n(e)})})},deleteResaler:function(e){return new Promise(function(t,n){var i={id:e};a.a.post(\"resaler/delete\",i).then(function(e){return t(e)}).catch(function(e){return n(e)})})}}},VhpY:function(e,t,n){\"use strict\";var a=n(\"RJdx\");n.n(a).a},YwBl:function(e,t,n){\"use strict\";n.r(t);var a=n(\"zOCk\"),i=n(\"n8XS\"),r=(n(\"FXY/\"),n(\"KHd+\")),o=Object(r.a)(i.a,a.render,a.staticRenderFns,!1,null,\"1e885e26\",null),l=n(\"ZDXL\");l.install(n(\"oCYn\")),l.compatible&&(e.hot.accept(),l.isRecorded(\"1e885e26\")?l.reload(\"1e885e26\",o.options):l.createRecord(\"1e885e26\",o.options),e.hot.accept(\"zOCk\",function(e){a=n(\"zOCk\"),l.rerender(\"1e885e26\",{render:a.render,staticRenderFns:a.staticRenderFns})}.bind(this))),o.options.__file=\"src/views/data/resaler.vue\",t.default=o.exports},n8XS:function(e,t,n){\"use strict\";n(\"f3/d\");var a=n(\"23J+\"),i=n(\"S4mp\"),r=(n(\"7Qib\"),n(\"Mz3J\")),o=n(\"L2JU\"),l={name:\"ComplexTable\",components:{Pagination:r.a},filters:{},data:function(){return{tableKey:0,resalers:null,total:0,listLoading:!0,dialogFormVisible:!1,rowSpans:null,listQuery:{page:1,limit:10},temp:{name:null,manager:null,note:null,address:null}}},created:function(){this.getResalers(),this.getCount()},computed:Object(a.a)({},Object(o.b)([\"id\"])),methods:{getResalers:function(){var e=this;this.listLoading=!0,i.a.getAllResalers(this.listQuery).then(function(t){e.resalers=t,e.listLoading=!1}).catch(function(t){e.$message({message:\"读取库存失败，请联系徐神检查\",type:\"error\"}),e.listLoading=!1})},getCount:function(){var e=this;i.a.getResalersCount().then(function(t){e.total=t.total})},handleCreate:function(){this.dialogFormVisible=!0},addNewResaler:function(){var e=this;this.$confirm(\"确定添加?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){e.sendNewResalerRequest()}).catch(function(e){})},sendNewResalerRequest:function(){var e=this;this.temp.name&&this.temp.manager?(this.listLoading=!0,i.a.addResaler(this.temp).then(function(t){e.listLoading=!1,e.$alert(\"库存添加成功\",\"成功\",{confirmButtonText:\"确定\",callback:function(t){e.page=1,e.getResalers(),e.getCount(),e.dialogFormVisible=!1,e.temp={name:null,manager:null,note:null,address:null}}})}).catch(function(t){e.$message({message:\"添加失败，请联系徐神检查\",type:\"error\"}),e.listLoading=!1})):this.$message({message:\"必须填写所有信息\",type:\"error\"})},editResaler:function(){},deleteResaler:function(e){var t=this;this.$confirm(\"确定删除>>\"+e.name+\"<<吗？\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){t.sendDeleteResalerRequest(e.id)}).catch(function(e){})},sendDeleteResalerRequest:function(e){var t=this;this.listLoading=!0,i.a.deleteResaler(e).then(function(e){t.listLoading=!1,t.$alert(\"删除成功\",\"成功\",{confirmButtonText:\"确定\",callback:function(e){t.page=1,t.getResalers(),t.getCount()}})}).catch(function(e){t.$message({message:\"删除失败，请联系徐神检查\",type:\"error\"}),t.listLoading=!1})}}};t.a=l},zOCk:function(e,t,n){\"use strict\";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"div\",[n(\"h2\",{staticClass:\"title\"},[e._v(\"分销渠道\")]),e._v(\" \"),n(\"el-button\",{staticClass:\"create-button\",staticStyle:{width:\"200px\",\"margin-left\":\"10px\"},attrs:{type:\"success\",icon:\"el-icon-edit\"},on:{click:e.handleCreate}},[e._v(\"\\n      添加新分销渠道\\n    \")])],1),e._v(\" \"),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.listLoading,expression:\"listLoading\"}],key:e.tableKey,staticStyle:{width:\"100%\"},attrs:{data:e.resalers,border:\"\",fit:\"\",\"highlight-current-row\":\"\"}},[n(\"el-table-column\",{attrs:{label:\"分销渠道ID\",prop:\"id\",width:\"100px\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var a=t.row;return[n(\"span\",[e._v(e._s(a.id))])]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{label:\"渠道名称\",prop:\"inventory_type\",width:\"250px\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var a=t.row;return[n(\"span\",[e._v(e._s(a.name))])]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{label:\"渠道内部评级\",prop:\"inventory_type\",width:\"200px\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var a=t.row;return[n(\"span\",[e._v(e._s(a.level))])]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{label:\"负责人名字\",prop:\"inventory_type\",width:\"200px\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var a=t.row;return[n(\"span\",[e._v(e._s(a.manager))])]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{label:\"地址\",prop:\"inventory_type\",width:\"200px\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var a=t.row;return[n(\"span\",[e._v(e._s(a.address))])]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{label:\"备注\",prop:\"inventory_type\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var a=t.row;return[n(\"span\",[e._v(e._s(a.note))])]}}])}),e._v(\" \"),n(\"el-table-column\",{attrs:{label:\"操作\",width:\"300px\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var a=t.row;return[n(\"el-button\",{attrs:{type:\"primary\",plain:\"\"},on:{click:function(t){return e.editResaler(a)}}},[e._v(\"编辑\")]),e._v(\" \"),n(\"el-button\",{attrs:{type:\"danger\",plain:\"\"},on:{click:function(t){return e.deleteResaler(a)}}},[e._v(\"删除\")])]}}])})],1),e._v(\" \"),n(\"pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.total>0,expression:\"total>0\"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{\"update:page\":function(t){return e.$set(e.listQuery,\"page\",t)},\"update:limit\":function(t){return e.$set(e.listQuery,\"limit\",t)},pagination:e.getResalers}}),e._v(\" \"),n(\"el-dialog\",{attrs:{title:\"添加新分销渠道\",visible:e.dialogFormVisible,width:\"80%\"},on:{\"update:visible\":function(t){e.dialogFormVisible=t}}},[n(\"el-form\",{ref:\"dataForm\",staticStyle:{\"margin-left\":\"20px\"},attrs:{model:e.temp,\"label-position\":\"left\",\"label-width\":\"10px\"}},[n(\"div\",[n(\"h3\",{staticStyle:{display:\"inline-block\",width:\"100px\",\"vertical-align\":\"top\",\"margin-top\":\"0\"}},[e._v(\" 分销渠道信息 \")]),e._v(\" \"),n(\"div\",{staticStyle:{display:\"inline-block\"}},[n(\"div\",{staticStyle:{\"margin-bottom\":\"5px\"}},[n(\"div\",{staticClass:\"input-title\"},[e._v(\"渠道名称\")]),e._v(\" \"),n(\"div\",{staticClass:\"input-title\"},[e._v(\"负责人名字\")]),e._v(\" \"),n(\"div\",{staticClass:\"input-title\"},[e._v(\"地址\")])]),e._v(\" \"),n(\"el-form-item\",{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{label:\"\",prop:\"resaler\"}},[n(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{placeholder:\"渠道名称\"},model:{value:e.temp.name,callback:function(t){e.$set(e.temp,\"name\",t)},expression:\"temp.name\"}}),e._v(\" \"),n(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{placeholder:\"负责人名字\"},model:{value:e.temp.manager,callback:function(t){e.$set(e.temp,\"manager\",t)},expression:\"temp.manager\"}}),e._v(\" \"),n(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{placeholder:\"负责人名字\"},model:{value:e.temp.address,callback:function(t){e.$set(e.temp,\"address\",t)},expression:\"temp.address\"}})],1)],1),e._v(\" \"),n(\"div\",[n(\"h3\",{staticStyle:{display:\"inline-block\",width:\"100px\",\"vertical-align\":\"top\",\"margin-top\":\"0\"}},[e._v(\" 备注 \")]),e._v(\" \"),n(\"el-input\",{staticStyle:{width:\"70%\"},attrs:{type:\"textarea\",autosize:{minRows:2,maxRows:4},placeholder:\"备注\"},model:{value:e.temp.note,callback:function(t){e.$set(e.temp,\"note\",t)},expression:\"temp.note\"}})],1)])]),e._v(\" \"),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(\"\\n        取消\\n      \")]),e._v(\" \"),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.addNewResaler()}}},[e._v(\"\\n        提交\\n      \")])],1)],1)],1)},i=[];a._withStripped=!0,n.d(t,\"render\",function(){return a}),n.d(t,\"staticRenderFns\",function(){return i})}}]);","extractedComments":[]}