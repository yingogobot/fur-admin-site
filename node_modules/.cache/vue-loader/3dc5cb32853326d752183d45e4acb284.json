{"remainingRequest":"/Users/yinxu/Desktop/Dev/Fur-Admin/fur-admin-site/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yinxu/Desktop/Dev/Fur-Admin/fur-admin-site/src/views/member/member-list.vue?vue&type=template&id=5ebce4d4&scoped=true&","dependencies":[{"path":"/Users/yinxu/Desktop/Dev/Fur-Admin/fur-admin-site/src/views/member/member-list.vue","mtime":1602303137147},{"path":"/Users/yinxu/Desktop/Dev/Fur-Admin/fur-admin-site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yinxu/Desktop/Dev/Fur-Admin/fur-admin-site/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/yinxu/Desktop/Dev/Fur-Admin/fur-admin-site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yinxu/Desktop/Dev/Fur-Admin/fur-admin-site/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"app-container\">\n  <div class=\"filter-container\">\n    <h2>筛选结果</h2>\n    <el-input v-model=\"listQuery.id\" placeholder=\"会员id\" style=\"width: 150px;\" class=\"filter-item\" @keyup.enter.native=\"handleFilter\" />\n    <el-input v-model=\"listQuery.cellphone\" placeholder=\"手机号\" style=\"width: 150px; margin-left: 15px;\" class=\"filter-item\" @keyup.enter.native=\"handleFilter\" />\n    <el-input v-model=\"listQuery.city\" placeholder=\"所在城市\" style=\"width: 150px; margin-left: 15px;\" class=\"filter-item\" @keyup.enter.native=\"handleFilter\" />\n    <el-input v-model=\"listQuery.name\" placeholder=\"姓名\" style=\"width: 150px; margin-left: 15px;\" class=\"filter-item\" @keyup.enter.native=\"handleFilter\" />\n    <el-select v-model=\"listQuery.pet_type\" placeholder=\"宠物类型\" clearable style=\"width: 150px; margin-left: 15px;\" class=\"filter-item\">\n      <el-option v-for=\"item in petTypes\" :key=\"item.id\" :label=\"item.title\" :value=\"item.id\" />\n    </el-select>\n    <el-input v-model=\"listQuery.pet_sub_type\" placeholder=\"宠物品种\" style=\"width: 150px; margin-left: 15px;\" class=\"filter-item\" @keyup.enter.native=\"handleFilter\" />\n    <el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-search\" @click=\"handleFilter\" style=\"width: 100px; margin-left: 15px;\">\n      搜索\n    </el-button>\n    <el-button class=\"filter-item\" style=\"width: 200px; margin-left: 10px;\" type=\"success\" icon=\"el-icon-edit\" @click=\"handleCreate\">\n      添加新会员\n    </el-button>\n  </div>\n  <div>\n    <h2 class=\"title\">会员列表</h2>\n  </div>\n  <el-table\n    :key=\"tableKey\"\n    v-loading=\"listLoading\"\n    :data=\"members\"\n    :span-method=\"objectSpanMethod\"\n    border\n    fit\n    highlight-current-row\n    style=\"width: 100%;\"\n  >\n    <el-table-column label=\"会员ID\" prop=\"id\" width=\"100px\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <span>{{ row.id }}</span>\n      </template>\n    </el-table-column>\n    <el-table-column label=\"姓名\" prop=\"name\" width=\"250px\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <span>{{ row.name }}</span>\n      </template>\n    </el-table-column>\n    <el-table-column label=\"手机号码\" prop=\"cellphone\" width=\"200px\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <span>{{ row.cellphone }}</span>\n      </template>\n    </el-table-column>\n     <el-table-column label=\"微信账号\" prop=\"wechat_account\" width=\"200px\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <span>{{ row.wechat_account }}</span>\n      </template>\n    </el-table-column>\n    <el-table-column label=\"淘宝账号\" prop=\"taobao_account\"  width=\"200px\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <span>{{ row.taobao_account }}</span>\n      </template>\n    </el-table-column>\n    <el-table-column label=\"支付宝账号\" prop=\"taobao_account\"  width=\"200px\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <span>{{ row.alipay_account }}</span>\n      </template>\n    </el-table-column>\n    <el-table-column label=\"所在城市\" prop=\"city\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <span>{{ row.city }}</span>\n      </template>\n    </el-table-column>\n    <el-table-column label=\"总消费金额\" width=\"150px\" prop=\"total_spend\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <span>{{ row.total_spend }}</span>\n      </template>\n    </el-table-column>\n    <el-table-column label=\"宠物类别\" prop=\"pet_type\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <span>{{ row.type === null ? '' : (row.type === 1 ? '狗':'猫') }}</span>\n      </template>\n    </el-table-column>\n    <el-table-column label=\"宠物名字\" prop=\"pet_name\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <span>{{ row.pet_name }}</span>\n      </template>\n    </el-table-column>\n    <el-table-column label=\"宠物品种\" prop=\"pet_sub_type\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <span>{{ row.sub_type }}</span>\n      </template>\n    </el-table-column>\n    <el-table-column label=\"宠物性别\" prop=\"pet_gender\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <span>{{ row.pet_gender === null ? '' : (row.pet_gender === 1 ? 'boy':'girl')}}</span>\n      </template>\n    </el-table-column>\n    <el-table-column label=\"宠物生日\" prop=\"birthday\" width=\"200px\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <span>{{ row.birthday === null ? '' : moment(row.birthday).format('YYYY-MM-DD') }}</span>\n      </template>\n    </el-table-column>\n    <el-table-column label=\"操作\" width=\"300px\" align=\"center\">\n      <template slot-scope=\"{row}\">\n        <el-button type=\"warning\" plain @click=\"editMember(row)\">编辑</el-button>\n        <el-button v-if=\"row.total_spend > 0\" type=\"primary\" plain @click=\"checkMemberDetail(row)\">消费详情</el-button>\n      </template>\n    </el-table-column>\n  </el-table>\n\n  <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"listQuery.page\" :limit.sync=\"listQuery.limit\" @pagination=\"getMembers\" />\n\n  <el-dialog title=\"添加新会员\" :visible.sync=\"dialogFormVisible\" width=\"80%\">\n    <el-form ref=\"dataForm\"\n      :model=\"temp\" \n      label-position=\"left\" \n      label-width=\"10px\" \n      style=\"margin-left:20px;\">\n      <div>\n        <h3 v-if=\"formType === 1\" style=\"vertical-align: top; margin-top: 0;\"> 添加新会员信息 </h3>\n        <h3 v-if=\"formType === 2\" style=\"vertical-align: top; margin-top: 0;\"> 编辑会员信息 </h3>\n        <div style=\"display: inline-block;\">\n          <div style=\" margin-bottom: 5px;\">\n            <div class=\"input-title\">客户姓名</div>\n            <div class=\"input-title\">手机号码</div>\n            <div class=\"input-title\">所在城市</div>\n            <div class=\"input-title\">姓名</div>\n            <div class=\"input-title\">微信账号</div>\n            <div class=\"input-title\">淘宝账号</div>\n            <div class=\"input-title\">支付宝账号</div>\n          </div>\n          <el-form-item label=\"\" prop=\"event\" style=\"margin-bottom: 10px;\">\n            <el-input placeholder=\"客户姓名\" v-model=\"temp.name\" style=\"width: 150px;\" class=\"filter-item\" />\n            <el-input placeholder=\"手机号码\" v-model=\"temp.cellphone\" style=\"width: 150px; margin-left:10px;\" class=\"filter-item\" />\n            <el-input placeholder=\"所在城市\" v-model=\"temp.city\" style=\"width: 150px; margin-left:10px;\" class=\"filter-item\" />\n            <el-input placeholder=\"微信账号\" v-model=\"temp.wechat_account\" style=\"width: 150px; margin-left:10px;\" class=\"filter-item\" />\n            <el-input placeholder=\"淘宝账号\" v-model=\"temp.taobao_account\" style=\"width: 150px; margin-left:10px;\" class=\"filter-item\" />\n            <el-input placeholder=\"支付宝账号\" v-model=\"temp.alipay_account\" style=\"width: 150px; margin-left:10px;\" class=\"filter-item\" />\n          </el-form-item>\n        </div>\n        <div v-if=\"temp.currentPets && temp.currentPets.length > 0\">\n          <h3 style=\"display: block; width: 100px; vertical-align: top; margin-top: 40;\"> 当前宠物信息 </h3>\n          <div style=\"display: inline-block;\">\n            <div style=\" margin-bottom: 5px;\">\n              <div class=\"input-title\">宠物ID</div>\n              <div class=\"input-title\">宠物类型</div>\n              <div class=\"input-title\">宠物名称</div>\n              <div class=\"input-title\">宠物品种</div>\n              <div class=\"input-title\">性别</div>\n              <div class=\"input-title\">生日</div>\n            </div>\n            <div v-for=\"(item, index) in temp.currentPets\" \n              label=\"\" :key=\"item.id\" prop=\"product\" style=\"margin-bottom: 10px;\">\n              <span style=\"display: inline-block; width: 150px; margin-left: 10px;\">{{item.id}}</span>\n              <span style=\"display: inline-block; width: 150px; margin-left: 10px;\">{{item.type === 1 ? '狗' : '猫'}}</span>\n              <span style=\"display: inline-block; width: 150px; margin-left: 10px;\">{{item.name}}</span>\n              <span style=\"display: inline-block; width: 150px; margin-left: 10px;\">{{item.sub_type}}</span>\n              <span style=\"display: inline-block; width: 150px; margin-left: 10px;\">{{item.gender === 1 ? '公' : '母'}}</span>\n              <span style=\"display: inline-block; width: 150px; margin-left: 10px;\">{{moment(item.birthday).format('YYYY-MM-DD')}}</span>\n              <el-button style=\"margin-left: 10px;\" type=\"danger\" icon=\"el-icon-delete\" @click=\"removePetFromEditing(item, index)\" />\n            </div>\n          </div>\n        </div>\n        <div>\n          <h3 style=\"display: block; width: 100px; vertical-align: top; margin-top: 40;\"> 宠物信息 </h3>\n          <div style=\"display: inline-block;\">\n            <div style=\" margin-bottom: 5px;\">\n              <div class=\"input-title\">宠物类型</div>\n              <div class=\"input-title\">宠物名称</div>\n              <div class=\"input-title\">宠物品种</div>\n              <div class=\"input-title\">性别</div>\n              <div class=\"input-title\">生日</div>\n            </div>\n            <el-form-item v-for=\"(item, index) in temp.pets\" \n              label=\"\" :key=\"item.id\" prop=\"product\" style=\"margin-bottom: 10px;\">\n              <el-select v-model=\"item.type\" class=\"filter-item\" style=\"width: 150px;\" placeholder=\"宠物类型\" clearable>\n                <el-option v-for=\"item in petTypes\" :key=\"item.id\" :label=\"item.title\" :value=\"item.id\" />\n              </el-select>\n              <el-input v-model=\"item.name\" placeholder=\"宠物名称\" class=\"filter-item\" style=\"width: 150px; margin-left:10px;\" clearable  />\n              <el-input v-model=\"item.sub_type\" placeholder=\"宠物品种\" class=\"filter-item\" style=\"width: 150px; margin-left:10px;\" clearable  />\n              <el-select v-model=\"item.gender\" class=\"filter-item inventory-in-input-extra\" placeholder=\"宠物性别\" clearable>\n                <el-option v-for=\"item in petGenders\" :key=\"item.id\" :label=\"item.title\" :value=\"item.id\" />\n              </el-select>\n              <el-date-picker\n                v-model=\"item.birthday\"\n                type=\"date\"\n                style=\"width: 200px;\"\n                placeholder=\"生日\">\n              </el-date-picker>\n              <el-button style=\"margin-left: 10px;\" type=\"danger\" icon=\"el-icon-delete\" @click=\"removePet(index)\" />\n            </el-form-item>\n            <el-form-item>\n              <el-button style=\"width: 150px;\" type=\"primary\" plain @click=\"addMorePet\">添加宠物</el-button>\n            </el-form-item>\n          </div>\n        </div>\n        <div>\n          <h3 class=\"section-title\"> 客户备注 </h3>\n          <el-input\n            type=\"textarea\"\n            :autosize=\"{ minRows: 2, maxRows: 4}\"\n            placeholder=\"备注\"\n            v-model=\"temp.note\"\n            style=\"width: 70%\" />\n        </div>\n      </div>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"dialogFormVisible = false\">\n        取消\n      </el-button>\n      <el-button v-if=\"this.formType === 1\" type=\"primary\" @click=\"addNewMember()\">\n        添加新会员\n      </el-button>\n      <el-button v-if=\"this.formType === 2\" type=\"primary\" @click=\"updateMember()\">\n        修改会员信息\n      </el-button>\n    </div>\n  </el-dialog>\n</div>\n",null]}